<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Handling of multiple release countries &mdash; MusicBrainz Picard v2.13.3 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css" />

  
    <link rel="stylesheet" href="../_static/css/extra.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/picard-icon.png"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
        <script src="/version_links.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Writing a Plugin" href="write_plugin.html" />
    <link rel="prev" title="Understanding Acoustic Fingerprinting and AcoustIDs" href="acoustid.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            MusicBrainz Picard
          </a>
              <div class="version">
                v2.13.3
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">About Picard</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../about_picard/introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../about_picard/contributing.html">Contributing to the Project</a></li>
<li class="toctree-l1"><a class="reference internal" href="../about_picard/acknowledgements.html">Acknowledgements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../about_picard/glossary.html">Glossary of Terms</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/download.html">Download &amp; Install Picard</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/starting.html">Starting Picard</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/screen_main.html">Main Screen</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/status_icons.html">Status Icons</a></li>
<li class="toctree-l1"><a class="reference internal" href="../config/configuration.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../variables/variables.html">Tags &amp; Variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="../extending/scripting.html">Scripting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../functions/list_by_type.html">Scripting Functions</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Using Picard</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../usage/using.html">General Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage/other.html">Other Picard Tasks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage/option_profiles.html">Option Profiles</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage/command_processing.html">Command and Batch Processing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../extending/extending.html">Extending Picard</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq/faq.html">Frequently Asked Questions</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Workflow Recommendations</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../workflows/workflows.html">General Recommendations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../workflows/workflow_cd.html">When the CD is available</a></li>
<li class="toctree-l1"><a class="reference internal" href="../workflows/workflow_extractor_log.html">When the ripper log file is available</a></li>
<li class="toctree-l1"><a class="reference internal" href="../workflows/workflow_album.html">When files are grouped by album</a></li>
<li class="toctree-l1"><a class="reference internal" href="../workflows/workflow_metadata.html">When files are not grouped but have some metadata</a></li>
<li class="toctree-l1"><a class="reference internal" href="../workflows/workflow_no_info.html">When files are not grouped and have little or no existing metadata</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Troubleshooting</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../troubleshooting/troubleshooting.html">General Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../troubleshooting/does_not_start.html">Picard won’t start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../troubleshooting/no_coverart.html">There is no coverart</a></li>
<li class="toctree-l1"><a class="reference internal" href="../troubleshooting/missing_tags.html">Tags are not updated or saved</a></li>
<li class="toctree-l1"><a class="reference internal" href="../troubleshooting/not_saving.html">Files are not being saved</a></li>
<li class="toctree-l1"><a class="reference internal" href="../troubleshooting/stopped_working.html">Picard just stopped working</a></li>
<li class="toctree-l1"><a class="reference internal" href="../troubleshooting/macos_startup_error.html">macOS shows the app is damaged</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Tutorials</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="naming_script.html">Writing a File Naming Script</a></li>
<li class="toctree-l1"><a class="reference internal" href="acoustid.html">Understanding Acoustic Fingerprinting and AcoustIDs</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Handling of multiple release countries</a></li>
<li class="toctree-l1"><a class="reference internal" href="write_plugin.html">Writing a Plugin</a></li>
<li class="toctree-l1"><a class="reference internal" href="android_app.html">Loading releases with MusicBrainz for Android</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Video Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="v_introduction.html">Introduction to Picard</a></li>
<li class="toctree-l1"><a class="reference internal" href="v_attach_disc_id.html">Attaching a Disc ID</a></li>
<li class="toctree-l1"><a class="reference internal" href="v_submit_acoustid.html">Submitting an AcoustID</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Appendices</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../appendices/plugins_api.html">Appendix A: Plugins API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../appendices/tag_mapping.html">Appendix B: Tag Mapping</a></li>
<li class="toctree-l1"><a class="reference internal" href="../appendices/command_line.html">Appendix C: Command Line Options</a></li>
<li class="toctree-l1"><a class="reference internal" href="../appendices/keyboard_shortcuts.html">Appendix D: Keyboard Shortcuts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../functions/list_by_name.html">Appendix E: Scripting Functions Listed Alphabetically</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">References</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../genindex.html">Index</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">MusicBrainz Picard</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Handling of multiple release countries</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="handling-of-multiple-release-countries">
<h1>Handling of <span class="target" id="index-0"></span>multiple release countries<a class="headerlink" href="#handling-of-multiple-release-countries" title="Permalink to this heading"></a></h1>
<p>Some releases, especially digital releases, can have a very long list of release countries, sometimes listing all of the world’s countries except for a few
where the release is not officially available. Picard offers some tools to handle this.</p>
<p>Let’s take the release <strong>Bleach</strong>, by Nirvana (MusicBrainz release
<a class="reference external" href="https://musicbrainz.org/release/adab3feb-1822-4d27-a997-db7d6c9688c0">adab3feb-1822-4d27-a997-db7d6c9688c0</a>) as an example.</p>
<p>By default Picard will write a single <code class="docutils literal notranslate"><span class="pre">releasecountry</span></code> tag to the files. Prior to v2.3.1, Picard had been populating the tag with what the MusicBrainz server
returned as the country for the release. If there were multiple release events, this country field was just filled with the first one in alphabetical order
(Afghanistan in our example). Picard v2.3.1 introduced some options to better handle this.</p>
<div class="section" id="using-preferred-release-countries">
<h2>Using preferred release countries<a class="headerlink" href="#using-preferred-release-countries" title="Permalink to this heading"></a></h2>
<p>If you configure preferred release countries in <span class="menuselection">“Options ‣ Metadata ‣ Preferred Releases”</span>.
Picard will use the first country from the preferred release countries that is also in the list of release events. So if you have configured
preferred release countries to be Europe, Canada, Germany and UK, for our example that would mean the <code class="docutils literal notranslate"><span class="pre">releasecountry</span></code> tag gets set to Canada.</p>
</div>
<div class="section" id="using-scripting-to-set-a-different-country">
<h2>Using scripting to set a different country<a class="headerlink" href="#using-scripting-to-set-a-different-country" title="Permalink to this heading"></a></h2>
<p>Picard v2.3.1 also added a new variable <code class="docutils literal notranslate"><span class="pre">%_releasecountries%</span></code>, which provides the complete list of release countries for a release as a multi-value variable.
You can use this to set different values for the <code class="docutils literal notranslate"><span class="pre">releasecountry</span></code> tag.</p>
<p>For example, the following script would set it to “[International]” if there are 10 or more release countries:</p>
<div class="highlight-taggerscript notranslate"><div class="highlight"><pre><span></span><span class="k">$if($gte($lenmulti(</span><span class="n">%_releasecountries%</span><span class="k">)</span>,10<span class="k">)</span>,<span class="k">$set(</span>releasecountry,[International]<span class="k">))</span>
</pre></div>
</div>
<p>Of course you can adjust the count and the replacement text to your liking. You can also choose to save the entire list instead of just a single country to
this tag using the script:</p>
<div class="highlight-taggerscript notranslate"><div class="highlight"><pre><span></span><span class="k">$setmulti(</span>releasecountry,<span class="n">%_releasecountries%</span><span class="k">)</span>
</pre></div>
</div>
<p>Perhaps you prefer to limit this list to the first few entries. The following example just uses the first 6 countries:</p>
<div class="highlight-taggerscript notranslate"><div class="highlight"><pre><span></span><span class="k">$setmulti(</span>releasecountry,<span class="k">$slice(</span><span class="n">%_releasecountries%</span>,0,6<span class="k">))</span>
</pre></div>
</div>
</div>
<div class="section" id="what-s-missing">
<h2>What’s missing?<a class="headerlink" href="#what-s-missing" title="Permalink to this heading"></a></h2>
<p>Countries are currently written to the tags as their ISO 3166-1 country code, with some special values added for historical countries and things like [Europe]
or [Worldwide]. These codes are not always easily recognizable or obvious, such as “DZ” for Algeria or “DE” for Germany. You can of course use scripting to
make these more readable.  For example, if you want to see “United Kingdom” instead of “GB” in this tag use:</p>
<div class="highlight-taggerscript notranslate"><div class="highlight"><pre><span></span><span class="k">$if($eq(</span><span class="n">%releasecountry%</span>,GB<span class="k">)</span>,<span class="k">$set(</span>releasecountry,United Kingdom<span class="k">))</span>
</pre></div>
</div>
<p>This might work if you deal only with a couple of countries in your collection, or you just want to handle some special cases like using “Europe” instead of “XE”
such as in the following script:</p>
<div class="highlight-taggerscript notranslate"><div class="highlight"><pre><span></span><span class="k">$if($eq(</span><span class="n">%releasecountry%</span>,XE<span class="k">)</span>,<span class="k">$set(</span>releasecountry,Europe<span class="k">))</span>
<span class="k">$if($eq(</span><span class="n">%releasecountry%</span>,XU<span class="k">)</span>,<span class="k">$set(</span>releasecountry,[Unknown]<span class="k">))</span>
<span class="k">$if($eq(</span><span class="n">%releasecountry%</span>,XW<span class="k">)</span>,<span class="k">$set(</span>releasecountry,[Worldwide]<span class="k">))</span>
<span class="k">$if($eq(</span><span class="n">%releasecountry%</span>,XG<span class="k">)</span>,<span class="k">$set(</span>releasecountry,DDR<span class="k">))</span>
</pre></div>
</div>
<p>A simpler method would be to use the <code class="docutils literal notranslate"><span class="pre">$countryname()</span></code> function introduced in Picard v2.7 to easily convert the code into a readable name, such as in the following scripts:</p>
<div class="highlight-taggerscript notranslate"><div class="highlight"><pre><span></span><span class="cm">$noop( Convert only %releasecountry% )</span>
<span class="k">$set(</span>releasecountry,<span class="k">$countryname(</span><span class="n">%releasecountry%</span>,yes<span class="k">))</span>

<span class="cm">$noop( List all countries by name )</span>
<span class="k">$setmulti(</span>releasecountry,<span class="k">$map(</span><span class="n">%_releasecountries%</span>,<span class="k">$countryname(</span><span class="n">%_loop_value%</span>,yes<span class="k">)))</span>

<span class="cm">$noop( List only the first 6 countries by name )</span>
<span class="k">$setmulti(</span>temp,<span class="k">$slice(</span><span class="n">%_releasecountries%</span>,0,6<span class="k">))</span>
<span class="k">$setmulti(</span>releasecountry,<span class="k">$map(</span><span class="n">%temp%</span>,<span class="k">$countryname(</span><span class="n">%_loop_value%</span>,yes<span class="k">)))</span>
</pre></div>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="write_plugin.html" class="btn btn-neutral float-right" title="Writing a Plugin" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="acoustid.html" class="btn btn-neutral float-left" title="Understanding Acoustic Fingerprinting and AcoustIDs" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p xmlns:dct="http://purl.org/dc/terms/" xmlns:cc="http://creativecommons.org/ns#" class="license-text">This MusicBrainz Picard User Guide is licensed under CC0 1.0 <a href="https://creativecommons.org/publicdomain/zero/1.0"><img  style="height:22px!important;margin-left: 3px;vertical-align:text-bottom;" src="/cc-zero.png" /></a></p>
    <!-- <p>
        
        &copy; Copyright This documentation is licensed under CC0 1.0.

    </p> -->
  </div>
    
    
      Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>
    </section>
  </div>
  

  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> Options</span>
      en
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      <dl id="select_version">
        <dt>Select Version</dt>
      </dl>
      <script>list_versions('en', 'tutorials/multiple_release_countries', 'stable',  'latest');</script>
      <dl>
        <dt>Select Language</dt>
        
        
        <dd><a href="../../en/tutorials/multiple_release_countries.html" class="__ptNoRemap">English</a></dd>
        
        <dd><a href="../../fr/tutorials/multiple_release_countries.html" class="__ptNoRemap">Français</a></dd>
        
        
      </dl>

      <dl>
        <dt>Downloads</dt>
        <dd><a href="/downloads/MusicBrainz_Picard_v2.13_[en].pdf" target="_blank" class="__ptNoRemap">PDF File</a></dd>
        <dd><a href="/downloads/MusicBrainz_Picard_v2.13_[en].epub" target="_blank" class="__ptNoRemap">epub File</a></dd>
        <dd><a href="/downloads/MusicBrainz_Picard_v2.13_HTML_[en].zip" target="_blank" class="__ptNoRemap">HTML Files</a></dd>
        <dd><a href="/downloads/MusicBrainz_Picard_Tag_Map.xlsx" target="_blank" class="__ptNoRemap">Tag Map Spreadsheet</a></dd>
      </dl>

    </div>
  </div>
<script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>